# üéÆ Xbox Series Controller ‚Üí Nintendo Switch via ESP32-S3 (Sys-con Bridge)

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç **ESP32-S3** –≤ –∞–¥–∞–ø—Ç–µ—Ä, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–¥–∫–ª—é—á–∏—Ç—å **–≥–µ–π–º–ø–∞–¥ Xbox Series X|S** –∫ **Nintendo Switch OLED** —á–µ—Ä–µ–∑ USB –ø—Ä–∏ –ø–æ–º–æ—â–∏ **sys-con**.  
Switch –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç BLE-–≥–µ–π–º–ø–∞–¥ Xbox, –Ω–æ —Å —ç—Ç–∏–º –ø—Ä–æ–µ–∫—Ç–æ–º –≤–∞—à Xbox Series –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –∫–∞–∫ **—ç–º—É–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π Xbox 360 –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä**!

---

## üß† –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

ESP32-S3 –≤—ã–ø–æ–ª–Ω—è–µ—Ç —Ä–æ–ª—å BLE-–º–æ—Å—Ç–∞ –∏ USB HID-—É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞:
1. –ü–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –ø–æ **BLE** –∫ –≥–µ–π–º–ø–∞–¥—É Xbox Series —Å –ø–æ–º–æ—â—å—é –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ [`XboxSeriesXControllerESP32_asukiaaa`](https://github.com/asukiaaa/XboxSeriesXControllerESP32_asukiaaa).
2. –ß–∏—Ç–∞–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫–Ω–æ–ø–æ–∫, —Å—Ç–∏–∫–æ–≤ –∏ —Ç—Ä–∏–≥–≥–µ—Ä–æ–≤.
3. –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –∏—Ö –≤ —Ñ–æ—Ä–º–∞—Ç **Xbox 360 HID –æ—Ç—á—ë—Ç–∞**.
4. –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç HID-–¥–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ **USB** –Ω–∞ Nintendo Switch, –∫–æ—Ç–æ—Ä—ã–π –≤–∏–¥–∏—Ç ESP32-S3 –∫–∞–∫ –æ–±—ã—á–Ω—ã–π Xbox 360 –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä (—Å–æ–≤–º–µ—Å—Ç–∏–º–æ —Å sys-con).

---

## ‚öôÔ∏è –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ **–≤—Å–µ—Ö –∫–Ω–æ–ø–æ–∫, —Å—Ç–∏–∫–æ–≤ –∏ —Ç—Ä–∏–≥–≥–µ—Ä–æ–≤**
- üí° **RGB-–∏–Ω–¥–∏–∫–∞—Ç–æ—Ä —Å–æ—Å—Ç–æ—è–Ω–∏—è**:
  - üü¢ ‚Äî –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –ø–æ–¥–∫–ª—é—á–µ–Ω, USB HID –∞–∫—Ç–∏–≤–µ–Ω  
  - üî¥ ‚Äî –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –Ω–µ –ø–æ–¥–∫–ª—é—á—ë–Ω –∏–ª–∏ HID –Ω–µ –≥–æ—Ç–æ–≤
- üîå **–°–æ–≤–º–µ—Å—Ç–∏–º–æ —Å sys-con** (—Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –¥—Ä–∞–π–≤–µ—Ä–æ–≤)
- üß© –û—Å–Ω–æ–≤–∞–Ω–æ –Ω–∞ **TinyUSB** –∏ **NimBLE**

---

## üß∞ –ê–ø–ø–∞—Ä–∞—Ç–Ω–∞—è —á–∞—Å—Ç—å

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|------------|------------|
| **ESP32-S3 DevKitC-1 (N16R8V)** | –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä —Å USB OTG |
| **Nintendo Switch OLED** | –¶–µ–ª–µ–≤–∞—è –∫–æ–Ω—Å–æ–ª—å |
| **–ì–µ–π–º–ø–∞–¥ Xbox Series X_S** | –ò—Å—Ç–æ—á–Ω–∏–∫ BLE-—Å–∏–≥–Ω–∞–ª–∞ |
| **–ö–∞–±–µ–ª—å USB-C ‚Üí USB-A** | –î–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è ESP32-S3 –∫ Switch |

### üñºÔ∏è –§–æ—Ç–æ –ø–ª–∞—Ç—ã ESP32-S3 DevKitC-1
<p align="center">
  <img src="https://github.com/sentyay/Xbox_series-NintendoSW/raw/main/images/esp32s3.jpg" alt="ESP32-S3 DevKitC-1" width="500"/>
</p>

---

## üß© –ë–∏–±–ª–∏–æ—Ç–µ–∫–∏ PlatformIO

–£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ —Å–±–æ—Ä–∫–µ (—Å–º. `platformio.ini`):

```ini
lib_deps =
    asukiaaa/XboxSeriesXControllerESP32_asukiaaa
    h2zero/NimBLE-Arduino
    adafruit/Adafruit NeoPixel

.
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ main.cpp              # –û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ BLE –∏ USB HID
‚îÇ   ‚îî‚îÄ‚îÄ usb_descriptors.h     # HID –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä—ã
‚îú‚îÄ‚îÄ platformio.ini            # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
‚îî‚îÄ‚îÄ README.md
```

## üöÄ –°–±–æ—Ä–∫–∞ –∏ –ø—Ä–æ—à–∏–≤–∫–∞

1. –û—Ç–∫—Ä–æ–π –ø—Ä–æ–µ–∫—Ç –≤ VS Code + PlatformIO

2. –í—ã–±–µ—Ä–∏ –ø–ª–∞—Ç—É esp32-s3-devkitc-1-n16r8v

3. –ü–æ–¥–∫–ª—é—á–∏ ESP32-S3 –ø–æ USB

4. –ù–∞–∂–º–∏ Build ‚Üí Upload

–ü–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ ‚Äî –ø–æ–¥–∫–ª—é—á–∏ ESP32-S3 –∫ Nintendo Switch —á–µ—Ä–µ–∑ USB

## üí° –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Å–ø–æ—Å–æ–±: –ø—Ä–æ—à–∏–≤–∫–∞ —á–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä

–ï—Å–ª–∏ –Ω–µ —Ö–æ—á–µ—Ç—Å—è —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å PlatformIO, –º–æ–∂–Ω–æ –ø—Ä–æ—à–∏—Ç—å –≥–æ—Ç–æ–≤—ã–µ `.bin` —Ñ–∞–π–ª—ã –ø—Ä—è–º–æ –≤ –±—Ä–∞—É–∑–µ—Ä–µ —Å –ø–æ–º–æ—â—å—é –æ–Ω–ª–∞–π–Ω-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –æ—Ç Espressif:

üîó **[https://espressif.github.io/esptool-js/](https://espressif.github.io/esptool-js/)**

1. –û—Ç–∫—Ä–æ–π —Å—Å—ã–ª–∫—É –≤ –±—Ä–∞—É–∑–µ—Ä–µ (Chrome, Edge –∏–ª–∏ –Ø–Ω–¥–µ–∫—Å.–ë—Ä–∞—É–∑–µ—Ä)  
2. –ü–æ–¥–∫–ª—é—á–∏ **ESP32-S3** –ø–æ USB  
3. –ù–∞–∂–º–∏ **Connect** –∏ –≤—ã–±–µ—Ä–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ  
4. –î–æ–±–∞–≤—å —Ñ–∞–π–ª—ã –¥–ª—è –ø—Ä–æ—à–∏–≤–∫–∏ (–∏–∑ –ø–∞–ø–∫–∏ "firmware" —ç—Ç–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞), —É–∫–∞–∑–∞–≤ –∞–¥—Ä–µ—Å–∞:

   | –§–∞–π–ª | –ê–¥—Ä–µ—Å |
   |-------|--------|
   | `bootloader.bin` | `0x0000` |
   | `partitions.bin` | `0x8000` |
   | `firmware.bin`   | `0x10000`|

5. –ù–∞–∂–º–∏ **Program** –∏ –¥–æ–∂–¥–∏—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è  
–ü–æ—Å–ª–µ –ø—Ä–æ—à–∏–≤–∫–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –∏ –±—É–¥–µ—Ç –≥–æ—Ç–æ–≤–æ –∫ —Ä–∞–±–æ—Ç–µ.

## üß© –ü—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã

–ü–æ—Å–ª–µ –≤–∫–ª—é—á–µ–Ω–∏—è –ø–∏—Ç–∞–Ω–∏—è ESP32-S3 –∑–∞–≥–æ—Ä–∞–µ—Ç—Å—è –∫—Ä–∞—Å–Ω—ã–π –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä

–ö–æ–≥–¥–∞ Xbox Series –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –ø–æ BLE, —Å–≤–µ—Ç–æ–¥–∏–æ–¥ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –∑–µ–ª—ë–Ω—ã–º

Nintendo Switch –≤–∏–¥–∏—Ç ESP32-S3 –∫–∞–∫ Xbox 360 Controller

–í—Å–µ –∫–Ω–æ–ø–∫–∏, —Å—Ç–∏–∫–∏ –∏ —Ç—Ä–∏–≥–≥–µ—Ä—ã –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—Ç–∞—é—Ç –≤ –∏–≥—Ä–∞—Ö

## ‚ö†Ô∏è –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

BLE-—Å–æ–ø—Ä—è–∂–µ–Ω–∏–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ ‚Äî –ø—Ä–æ—Å—Ç–æ –≤–∫–ª—é—á–∏—Ç–µ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä Xbox Series –≤ —Ä–µ–∂–∏–º —Å–æ–ø—Ä—è–∂–µ–Ω–∏—è.

–ï—Å–ª–∏ Switch –Ω–µ –≤–∏–¥–∏—Ç –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä, —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ sys-con —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ ESP32-S3 –ø–æ–¥–∫–ª—é—á—ë–Ω —á–µ—Ä–µ–∑ USB-C (–Ω–µ UART).

–ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –º–æ–∂–Ω–æ –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å usb_descriptors.h, —á—Ç–æ–±—ã –∏–∑–º–µ–Ω–∏—Ç—å VID/PID –∏ –∏–º—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞.

## üßëüíª –ê–≤—Ç–æ—Ä

–†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–æ —ç–Ω—Ç—É–∑–∏–∞—Å—Ç–æ–º –¥–ª—è –∫–æ–º–º—å—é–Ω–∏—Ç–∏ Switch + ESP32.
–†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ —á–∏—Å—Ç–æ–º Arduino framework –ø–æ–¥ ESP32-S3.

## ü™Ñ –õ–∏—Ü–µ–Ω–∑–∏—è

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ–¥ –ª–∏—Ü–µ–Ω–∑–∏–µ–π MIT ‚Äî –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ, –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É–π—Ç–µ –∏ —É–ª—É—á—à–∞–π—Ç–µ —Å–≤–æ–±–æ–¥–Ω–æ.

## üí¨ –ö–æ–Ω—Ç–∞–∫—Ç—ã –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ –ø—Ä–æ–µ–∫—Ç –æ–∫–∞–∑–∞–ª—Å—è –ø–æ–ª–µ–∑–µ–Ω ‚Äî ‚≠ê –ø–æ—Å—Ç–∞–≤—å –∑–≤–µ–∑–¥—É –Ω–∞ GitHub!
Pull Requests –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é—Ç—Å—è :)
